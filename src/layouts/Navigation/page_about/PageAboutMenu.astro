---
import { getProjects } from '@layouts/utils/getProjects'
import { getRootUrl } from '@layouts/utils/getRootUrl'
import MenuItem from '../MenuItem/MenuItem.astro'
import MenuItemHeadline from '../MenuItem/MenuItemHeadline.astro'
import MenuItemWrapper from '../MenuItem/MenuItemWrapper.astro'

const projects = await getProjects()
const showcaseProjects = projects
  ?.filter((p) => p.name.slug !== 'root')
  ?.filter((p) => p.enabled === true)
---

<MenuItemWrapper>
  <MenuItem href="/" highlightExactMatch>Ãœbersicht</MenuItem>
</MenuItemWrapper>

<MenuItemHeadline>Projekte</MenuItemHeadline>
<MenuItemWrapper>
  {
    showcaseProjects?.map((project) => {
      return <MenuItem href={getRootUrl(project)}>{project.name.name}</MenuItem>
    })
  }
</MenuItemWrapper>
